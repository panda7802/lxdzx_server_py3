<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" style="height: 100%;">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <title>{{ type_name }}</title>
</head>

<body style="font-size:24pt">
<table border="1" style="margin-left:5%;width: 90%;height: 70%;text-align: center">
    {% for item in res %}
        {#    divisibleby标签的意义是用后面的参数去除，除尽为True，否则为False#}
        {% if forloop.counter0|divisibleby:3 %}
            <tr id="item{{ forloop.counter }}" style="height:8%">
        {% endif %}
    <td>
        <div id="name{{ forloop.counter }}" onclick="get_shops({{ item.id }})">
            {#            <a href='./phb_view?parm={"tid":{{ item.id }},"page":0}'>#}
            {{ item.name }}
            {#            </a>#}
        </div>
    </td>
    {% if forloop.counter|divisibleby:3 %}
        </tr>
    {% endif %}
    {% endfor %}
</table>
<br/>

<div style="margin-left: 5%">最少评价数&nbsp;&nbsp;&nbsp;<input type="text" id="evaluation" value="1000" style="font-size:20pt"/></div>
<div style="margin-left: 5%">最低价格&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="min_price"  style="font-size:20pt"
                                                                                  value="50"/></div>
<div style="margin-left: 5%">最高价格&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="max_price"  style="font-size:20pt"
                                                                                  value="100"/></div>
</body>
<script>
    function get_shops(id) {
        const evaluation = document.getElementById("evaluation").value;
        const min_price = document.getElementById("min_price").value;
        const max_price = document.getElementById("max_price").value;
        const url = './phb_view?parm={"tid":' + id + ',"page":0'
            + ',"evaluation":' + evaluation
            + ',"min_price":' + min_price
            + ',"max_price":' + max_price + '}';
        console.log(url)
        window.location.href = url;
    }
</script>
</html>
